ESX = nil

TriggerEvent('esx:getSharedObject', function(obj) ESX = obj end)

houses = { -- every house door coords in the map ;)
    vector3(-1021.6343, -416.5580, 39.6161),
	vector3(-1112.25, -1578.4, 7.7),
    vector3(-1114.34, -1579.47, 7.7),
    vector3(-1114.95, -1577.57, 3.56),
    vector3(373.9276, 427.8789, 144.7342),	
    vector3(924.35, -526.00, 58.78),
    vector3(-2977.07, 609.56, 19.24),
    vector3(-2972.55, 642.40, 24.99),
    vector3(-2994.47, 682.57, 24.04),
    vector3(-2992.99, 707.56, 27.69),
    vector3(-3017.03, 746.69, 26.78),
    vector3(-3109.15, 752.10, 23.70),
    vector3(-3107.83, 718.84, 19.65),
    vector3(-3077.78, 658.66, 10.66),
    vector3(-3029.95, 568.53, 6.82),
    vector3(-3031.87, 525.08, 6.42),
    vector3(-3039.4, 493.05, 5.77),
    vector3(-3071.2, 442.69, 5.35),
    vector3(-3088.7, 392.25, 10.44),
    vector3(-3094.3, 364.38, 6.31),
    vector3(-3093.76, 349.42, 6.54),
    vector3(-3110.54, 335.08, 6.49),
    vector3(-3111.94, 315.23, 7.38),
    vector3(-3114.96, 304.26, 7.38),
    vector3(-3105.97, 286.68, 7.97),
    vector3(-3105.97, 286.68, 7.97),
    vector3(-3105.31, 246.56, 11.49),
    vector3(-942.48, -280.24, 38.59),
    vector3(285.98, -790.48, 28.43),
    vector3(388.26, -731.86, 28.29),
    vector3(255.39, -1013.32, 28.26),
    vector3(349.39, -1027.41, 28.33),
    vector3(-1337.6, -1161.36, 3.50),
    vector3(-1335.80, -1146.90, 5.73),
    vector3(-1243.70, -1240.94, 10.02),
    vector3(-1236.65, -1238.26, 10.02),
    vector3(-1228.85, -1235.35, 10.02),
    vector3(-1221.34, -1232.68, 10.02),
vector3(-1225.78, -1208.29, 7.26),
vector3(-1232.99, -1191.44, 10.25),
vector3(-1150.89, -1519.40, 3.35),
vector3(-1097.57, -1672.99, 7.39),
vector3(-1098.2, -1678.59, 3.35),
vector3(-1063.07, -1641.55, 3.49),
vector3(-1058.25, -1643.41, 3.47),
vector3(-1071.57, -1636.71, 7.19),
vector3(-1076.99, -1621.27, 3.47),
vector3(-1078.83, -1616.27, 3.42),
vector3(-1072.33, -1565.61, 3.37),
vector3(-1049.07, -1581.07, 3.98),
vector3(-1041.5, -1590.5, 5.99),
vector3(-1039.1, -1610.33, 4.11),
vector3(-1093.59, -1608.18, 7.45),
vector3(-1125.65, -1544.11, 4.38),
vector3(-1142.28, -1461.17, 3.62),
vector3(-1130.1, -1496.81, 3.42),
vector3(-1117.81, -1488.12, 3.72),
vector3(-1108.9, -1482.24, 3.92),
vector3(-1070.4, -1515.18, 4.30),
vector3(-1078.2, -1524.59, 3.88),
vector3(-1087.4, -1529.23, 3.69),
vector3(-1057.6, -1540.62, 4.04),
vector3(-1076.8, -1553.93, 3.63),
vector3(-1065.9, -1545.78, 3.90),
vector3(-1084.46, -1559.27, 3.78),
vector3(-1108.36, -1527.07, 5.77),
vector3(-1122.94, -1557.53, 4.38),
vector3(-1107.15, -1222.79, 1.56),
vector3(-1119.66, -1198.63, 5.68),
vector3(-1113.87, -1193.85, 1.37),
vector3(-1125.74, -1172.07, 1.35),
vector3(-1129.18, -1162.57, 5.49),
vector3(-1135.51, -1153.47, 1.74),
vector3(-1142.66, -1144.08, 1.85),
vector3(-1145.99, -1127.99, 5.50),
vector3(-1143.51, -1122.03, 1.60),
vector3(-1204.44, -1021.89, 4.94),
vector3(-1200.44, -1031.93, 1.30),
vector3(-1195.42, -1036.40, 1.30),
vector3(-1190.72, -1055.11, 1.15),
vector3(-1177.33, -1073.46, 4.90),
vector3(-1182.86, -1064.35, 1.15),
vector3(-1161.40, -1100.04, 1.21),
vector3(-1167.11, -1104.56, 5.53),
vector3(-1152.18, -913.43, 5.99),
vector3(-1169.17, -987.05, 1.15),
vector3(-1179.38, -929.33, 5.99),	
vector3(-1022.62, -896.91, 4.41),	
vector3(-1031.07, -902.87, 2.69),	
vector3(-1090.47, -926.65, 2.10),	
vector3(-1111.56, -902.03, 2.78),	
vector3(-1008.44, -1015.27, 1.15),	
vector3(-1022.35, -1023.05, 1.15),	
vector3(-1041.64, -1025.80, 1.74),	
vector3(-1050.93, -1006.32, 5.41),	
vector3(-1056.07, -1000.76, 1.15),	
vector3(-1104.10, -1060.02, 1.73),			
vector3(-1108.50, -1040.76, 1.150),	
vector3(-1068.65, -1049.17, 5.41),	
vector3(-1063.65, -1055.06, 1.15),			
vector3(-1068.133, -1163.56, 1.74),			
vector3(-1046.05, -1159.84, 1.15),	
vector3(-1040.33, -1135.85, 1.15),		
vector3(-1024.56, -1139.42, 1.74),		
vector3(-978.18, -1108.32, 1.15),		
vector3(-959.66, -1109.71, 1.15),
vector3(-938.73, -1087.76, 1.15),
vector3(-952.42, -1077.54, 1.67),
vector3(-942.96, -1075.78, 1.74),
vector3(-863.89, -1101.16, 5.44),	
vector3(-869.37, -1103.25, 5.44),	
vector3(-884.11, -1072.49, 1.53),	
vector3(-900.69, -982.42, 1.24),		
vector3(-927.70, -949.91, 1.74),
vector3(-934.95, -939.42, 1.14),
vector3(-947.70, -928.01, 1.14),
vector3(-950.97, -905.58, 1.74),
vector3(-948.25, -910.39, 1.74),	
         vector3(346.4424, 440.626, 146.783),
         vector3(331.4054, 465.6823, 150.2642),
       vector3(316.0714, 501.4787, 152.2298), 
       vector3(325.3428, 537.4042, 152.9206), 
         vector3(223.6483, 513.9971, 139.8171),
         vector3(119.2289, 494.3233, 146.3929),
         vector3(80.12486, 485.8678, 147.2517),
         vector3(57.87461, 450.0858, 146.0815),
         vector3(42.98039, 468.6544, 147.1459),
       vector3(-7.608167, 468.3959, 144.9208), 
         vector3(-66.48237, 490.8036, 143.7423),
       vector3(-109.8572, 502.6192, 142.3531), 
         vector3(-174.7194, 502.598, 136.4706),
         vector3(84.8648, 561.972, 181.8175),
         vector3(119.0849, 564.5529, 183.0037),
         vector3(215.6454, 620.1937, 186.6673),
         vector3(231.9564, 672.4473, 188.9955),
         vector3(-230.5478, 488.4593, 127.8175),
         vector3(-311.922, 474.8206, 110.8724),
         vector3(-166.7201, 424.663, 110.8558),
       vector3(-297.8921, 380.3153, 111.1453), 
         vector3(-328.2933, 369.9056, 109.056),
         vector3(-371.7889, 344.115, 108.9927),
         vector3(-409.4172, 341.6884, 107.9574),
         vector3(-349.2375, 514.6479, 119.6967),
         vector3(-386.6804, 504.5744, 119.4615),
         vector3(-406.4875, 567.5134, 123.6529),
       vector3(-459.1129, 537.521, 120.5068), 
         vector3(-500.5503, 552.2289, 119.6605),
         vector3(-520.2657, 594.2166, 119.8867),
         vector3(-475.1374, 585.8268, 127.7334),
         vector3(-559.4098, 664.3816, 144.5066),
       vector3(-605.9417, 672.8667, 150.6477), 
         vector3(-579.7289, 733.1073, 183.2603),
         vector3(-655.0796, 803.4769, 198.0419),
         vector3(-746.9131, 808.4435, 214.0801),
         vector3(-597.1287, 851.8281, 210.4842),
         vector3(-494.424, 795.8174, 183.3934),
       vector3(-495.4582, 738.9638, 162.0807), 
         vector3(-533.05, 709.0921, 152.1307),
         vector3(-686.1759, 596.119, 142.692),
         vector3(-732.7767, 594.0862, 141.1908),
         vector3(-752.8133, 620.9746, 141.5565),
       vector3(-699.111, 706.7751, 156.9963), 
         vector3(-476.8588, 648.337, 143.4366),
       vector3(-400.0984, 665.4254, 162.8802), 
         vector3(-353.2795, 667.8525, 168.119),
         vector3(-299.8464, 635.0609, 174.7317),
         vector3(-293.5298, 601.4299, 180.6255),
         vector3(-232.6113, 588.7607, 189.5862),
         vector3(-189.1341, 617.611, 198.7125),
         vector3(-185.3076, 591.8223, 196.871),
       vector3(-126.8265, 588.7379, 203.5668), 
         vector3(-527.0712, 517.5832, 111.9912),
         vector3(-580.6823, 492.388, 107.9512),
       vector3(-640.7534, 519.7142, 108.7378), 
       vector3(-667.3151, 471.9706, 113.1885), 
         vector3(-678.8621, 511.7292, 112.576),
       vector3(-718.1337, 449.26, 105.9591), 
         vector3(-762.3024, 431.528, 99.22505),
         vector3(-784.195, 459.1265, 99.22904),
         vector3(-824.7245, 422.0788, 91.17419),
         vector3(-843.2042, 466.747, 86.64773),
         vector3(-848.9617, 508.8513, 89.86675),
         vector3(-883.8552, 518.0173, 91.49284),
       vector3(-905.2466, 587.4352, 100.0409), 
         vector3(-924.6613, 561.777, 98.99629),
         vector3(-947.9395, 568.2031, 100.5271),
         vector3(-974.3864, 582.1178, 101.9781),
         vector3(-1022.67, 587.3645, 102.2835),
         vector3(-1107.262, 593.9845, 103.504),
         vector3(-1125.425, 548.6654, 101.6192),
         vector3(-1146.434, 545.8893, 100.9537),
         vector3(-1193.073, 563.7615, 99.38944),
         vector3(-970.9653, 456.0507, 78.85919),
       vector3(-967.3018, 510.33, 81.11642), 
         vector3(-987.416, 487.6514, 81.31525),
         vector3(-1052.021, 432.3936, 76.12247),
         vector3(-1094.184, 427.4131, 74.93001),
         vector3(-1122.763, 485.6832, 81.21085),
         vector3(-1174.953, 440.3156, 85.89944),
         vector3(-1215.703, 458.4677, 90.90369),
         vector3(-1294.423, 454.8558, 96.52876),
         vector3(-1308.194, 449.2641, 100.0198),
         vector3(-1413.602, 462.2877, 108.2586),
         vector3(-1404.859, 561.2165, 124.4563),
         vector3(-1346.742, 560.8566, 129.5815),
         vector3(-1366.825, 611.1692, 132.9559),
         vector3(-1337.756, 606.1082, 133.4298),
         vector3(-1291.722, 650.0664, 140.5513),
         vector3(-1248.572, 643.0165, 141.7478),
         vector3(-1241.251, 674.0633, 141.8635),
         vector3(-1219.116, 665.676, 143.5833),
         vector3(-1197.68, 693.6866, 146.4389),
         vector3(-1165.65, 727.1097, 154.6567),
         vector3(-1130.026, 784.1542, 162.937),
         vector3(-1100.424, 797.4186, 166.3083),
         vector3(-1056.185, 761.7527, 166.3686),
         vector3(-999.089, 816.4957, 172.0972),
         vector3(-962.6514, 813.8961, 176.6157),
         vector3(-912.3673, 777.6082, 186.0594),
         vector3(-867.3571, 785.2908, 190.9838),
         vector3(-824.0525, 806.0515, 201.8325),
         vector3(-1065.278, 727.3835, 164.5246),
         vector3(-1019.855, 719.1128, 163.0461),
         vector3(-931.441, 691.4453, 152.5167),
         vector3(-908.8556, 693.8784, 150.4861),
         vector3(-885.5114, 699.3257, 150.3199),
         vector3(-853.5562, 696.3616, 147.8309),
         vector3(-819.3509, 696.5077, 147.1542),
         vector3(-765.3711, 650.6353, 144.7481),

        vector3(1777.183, 3737.91, 33.70544),
        vector3(1748.654, 3783.682, 33.88487),
        vector3(1639.651, 3731.574, 34.1171),
        vector3(1642.62, 3727.397, 34.1171),
        vector3(1777.183, 3737.91, 33.70544),
        vector3(1748.654, 3783.682, 33.88487),
        vector3(1639.651, 3731.574, 34.1171),
        vector3(1642.62, 3727.397, 34.1171),
        vector3(1691.527, 3866.063, 33.95724),
        vector3(1700.339, 3867.13, 33.94835),
        vector3(1733.617, 3895.49, 34.60904),
        vector3(1786.595, 3913.041, 33.96126),
         vector3(1803.442, 3913.945, 36.10695),
         vector3(1809.081, 3907.696, 32.79611),
        vector3(1838.584, 3907.396, 32.38101),
        vector3(1841.911, 3928.622, 32.77209),
         vector3(1880.288, 3920.646, 32.25876),
        vector3(1895.438, 3873.758, 31.80445),
        vector3(1888.475, 3892.893, 32.22338),
         vector3(1943.682, 3804.373, 31.08716),
    
         vector3(-374.5138, 6190.958, 30.77954),
         vector3(-356.8976, 6207.454, 30.89236),
         vector3(-347.4774, 6225.401, 30.93764),
         vector3(-360.1222, 6260.694, 30.95253),
         vector3(-407.2397, 6314.188, 27.99109),
         vector3(-359.7261, 6334.635, 28.90011),
         vector3(-332.5201, 6302.319, 32.1277),
         vector3(-302.2421, 6326.917, 31.93612),
         vector3(-280.5109, 6350.701, 31.64801),
         vector3(-247.7367, 6370.147, 30.90242),
         vector3(-227.1403, 6377.43, 30.80915),
         vector3(-272.4501, 6400.943, 30.45621),
         vector3(-246.1277, 6413.948, 30.50865),
         vector3(-213.8456, 6396.29, 32.13464),
         vector3(-188.9336, 6409.466, 31.34684),
         vector3(-215.0479, 6444.324, 30.36316),
         vector3(-15.28663, 6557.606, 32.29038),
         vector3(4.47418, 6568.086, 32.12141),
         vector3(30.94101, 6596.576, 31.85995),
         vector3(-9.353081, 6654.244, 30.44062),
         vector3(-41.70464, 6637.401, 30.13669),

         vector3(-34.11276, -1846.874, 25.24352),
         vector3(-20.60476, -1858.613, 24.45817),
         vector3(21.12752, -1844.65, 23.6517),
         vector3(-5.167674, -1871.824, 23.20047),
         vector3(4.920843, -1884.344, 22.74725),
         vector3(46.00618, -1864.281, 22.3283),
         vector3(23.06887, -1896.687, 22.05284),
         vector3(54.56005, -1873.202, 21.87974),
         vector3(38.99373, -1911.641, 21.0035),
         vector3(56.53649, -1922.598, 20.96063),
         vector3(100.8559, -1912.477, 20.45295),
         vector3(72.05096, -1938.944, 20.41857),
         vector3(76.55006, -1948.382, 20.22416),
         vector3(126.5084, -1929.905, 20.43241),
         vector3(104.0809, -1885.348, 23.36878),
         vector3(130.7885, -1853.333, 24.32527),
         vector3(150.0463, -1864.904, 23.63023),
         vector3(127.7576, -1897.176, 22.71498),
         vector3(148.6717, -1904.125, 22.54188),
         vector3(171.315, -1871.397, 23.45023),
         vector3(192.4514, -1883.452, 24.15228),
         vector3(179.0855, -1924.264, 20.42102),
         vector3(165.5446, -1945.026, 19.27414),
         vector3(148.878, -1960.527, 18.54301),
         vector3(143.8638, -1968.961, 17.90508),
         vector3(236.5701, -2045.956, 17.42999),
         vector3(256.6853, -2023.399, 18.38439),
         vector3(279.5564, -1993.748, 19.89194),
         vector3(291.3571, -1980.286, 20.64545),
         vector3(295.8619, -1971.991, 21.81774),
         vector3(312.0699, -1956.285, 23.66682),
         vector3(324.4214, -1937.933, 24.06393),
         vector3(319.8839, -1854.207, 26.56307),
         vector3(329.2549, -1845.749, 26.80143),
         vector3(339.087, -1829.264, 27.38431),
         vector3(348.7708, -1820.528, 27.94409),
         vector3(440.2501, -1829.995, 27.41187),
         vector3(427.45, -1841.814, 27.50076),
         vector3(412.5543, -1856.125, 26.37176),
         vector3(399.5801, -1864.591, 25.76936),
         vector3(385.0557, -1881.49, 25.0861),
         vector3(495.3709, -1823.458, 27.91969),
         vector3(512.5225, -1790.433, 27.9695),
         vector3(472.1762, -1775.283, 28.11979),
         vector3(479.3728, -1735.732, 28.20037),
         vector3(489.6817, -1713.973, 28.72012),
         vector3(500.4488, -1697.029, 28.82996),
         vector3(405.3066, -1751.105, 28.76036),
         vector3(419.1456, -1735.932, 28.65644),
         vector3(431.0881, -1725.809, 28.65146),
         vector3(443.4124, -1707.244, 28.75729),
         vector3(332.9239, -1741.041, 28.78052),
         vector3(320.8559, -1760.215, 28.68788),
         vector3(304.5139, -1775.368, 28.20438),
         vector3(300.0052, -1784.345, 27.48622),
         vector3(288.7145, -1792.512, 27.16629),
         vector3(198.1999, -1725.602, 28.71232),
         vector3(216.5622, -1717.307, 28.72634),
         vector3(249.6055, -1730.614, 28.72248),
         vector3(223.0704, -1702.961, 28.74216),
         vector3(257.2826, -1723.159, 28.70379),
         vector3(269.3036, -1712.88, 28.7173),
         vector3(252.8022, -1670.621, 28.71316),
         vector3(240.7752, -1687.924, 28.73524),

         vector3(1060.572, -378.3963, 67.28117),
         vector3(1029.075, -408.5787, 65.17527),
         vector3(1010.519, -423.3441, 64.39827),
         vector3(1014.429, -469.0127, 63.55713),
         vector3(987.8522, -433.5852, 62.94143),
         vector3(967.1243, -451.5814, 61.8442),
         vector3(970.1669, -502.1628, 61.19075),
         vector3(943.9504, -463.3438, 60.44574),
         vector3(945.9931, -518.9095, 59.66811),
         vector3(921.9142, -478.1666, 60.13361),
         vector3(906.4796, -490.0975, 58.48627),
         vector3(878.5616, -498.1047, 57.14323),
         vector3(862.4706, -509.7612, 56.37899),
         vector3(850.8226, -532.6475, 56.97535),
         vector3(893.1567, -540.6183, 57.5565),
         vector3(844.0634, -563.1956, 56.88387),
         vector3(861.7772, -583.1914, 57.20606),
         vector3(886.8757, -608.0862, 57.49291),
         vector3(903.2582, -615.666, 57.50368),
         vector3(928.9735, -639.6768, 57.28987),
         vector3(943.517, -653.4185, 57.47094),
         vector3(960.4077, -669.749, 57.49975),
         vector3(970.8856, -701.3883, 57.53193),
         vector3(979.3055, -716.3039, 57.26874),
         vector3(997.1113, -729.2736, 56.86407),
         vector3(1090.007, -484.2412, 64.71036),
         vector3(1098.587, -464.7038, 66.36903),
         vector3(1099.411, -438.3408, 66.83294),
         vector3(1100.837, -411.4033, 66.60183),
         vector3(1046.235, -497.9067, 63.12947),
         vector3(1051.85, -470.5256, 62.94894),
         vector3(1056.177, -448.8858, 65.30746),
         vector3(964.1451, -596.0469, 58.95258),
         vector3(976.3569, -579.2255, 58.68561),
         vector3(1009.913, -572.3914, 59.64314),
         vector3(1229.286, -725.4603, 59.84467),
         vector3(1222.598, -697.0645, 59.85625),
         vector3(1221.362, -669.0397, 62.54292),
         vector3(1206.818, -620.2753, 65.48862),
         vector3(1200.939, -575.8315, 68.18923),
         vector3(1241.924, -566.2299, 68.70738),
         vector3(1240.51, -601.5778, 68.8327),
         vector3(1251.304, -621.6561, 68.46317),
         vector3(1265.587, -648.3523, 66.97227),
         vector3(1270.994, -683.5013, 65.08128),
         vector3(1265.157, -703.1201, 63.61639),
         vector3(1251.326, -515.734, 68.39915),
         vector3(1251.593, -494.1618, 68.95689),
         vector3(1260.582, -479.6108, 69.23888),
         vector3(1266.292, -457.9033, 69.5667),
         vector3(1263.196, -429.3719, 68.85603),
         vector3(1301.038, -574.0164, 70.78177),
         vector3(1302.897, -527.9202, 70.51077),
         vector3(1323.519, -582.8726, 72.29634),
         vector3(1348.259, -547.1376, 72.94155),
         vector3(1341.787, -597.4872, 73.75066),
         vector3(1367.316, -605.9421, 73.76093),
         vector3(1385.772, -593.0621, 73.53544),
         vector3(1388.749, -569.7012, 73.54611),
         vector3(1372.821, -555.699, 73.73566),
         vector3(1328.18, -535.956, 71.49114),
vector3(1203.475, -1671.016, 41.76279), 
vector3(1220.285, -1658.955, 47.68088), 
vector3(1252.806, -1638.585, 52.17659), 
vector3(1276.395, -1628.864, 53.82737), 
         vector3(1297.356, -1618.012, 53.63013),
vector3(1336.964, -1579.076, 53.52741), 
         vector3(1437.167, -1492.462, 62.68135),
        vector3(1404.583, -1496.261, 59.01226),
        vector3(1411.39, -1490.814, 59.70768),
         vector3(1390.94, -1508.088, 57.48578),
         vector3(1381.906, -1544.797, 56.15735),
vector3(1338.288, -1524.477, 53.65514), 
vector3(1315.856, -1526.364, 50.85357), 
vector3(1327.479, -1552.902, 53.10154), 
         vector3(1286.645, -1604.191, 53.87476),
vector3(1230.729, -1590.911, 52.8248), 
         vector3(1261.346, -1616.602, 53.79375),
vector3(1245.144, -1626.563, 52.33191), 
vector3(1210.683, -1607.112, 49.58152), 
vector3(1214.294, -1644.032, 47.69498), 
vector3(1193.242, -1622.396, 44.27139), 
         vector3(1193.292, -1656.073, 42.07607),
vector3(1258.863, -1761.501, 48.71436), 
vector3(1250.818, -1734.793, 51.08211), 
         vector3(1294.976, -1739.768, 53.32201),
vector3(1289.491, -1711.033, 54.54448), 
         vector3(1314.767, -1732.934, 53.75004),
         vector3(1316.886, -1698.854, 57.27156),
vector3(1355.066, -1690.527, 59.54117), 
         vector3(1365.325, -1721.377, 64.68388),
       vector3(-949.4518, 196.67, 67.39642),
       vector3(-1038.05, 222.19, 63.38)
}

local items = { -- put your own items here 
	'candy'
}

didsomething = false

CreateThread(function()
  Wait(1000)
	while true do
    local wait = 1500
    for c=1, #houses do
    wait = 0
    if not didsomething then
	  local pc = GetEntityCoords(PlayerPedId())
    local d = houses[c]
                if #(pc - d) < 6.0 then
              text(d.x, d.y, d.z, tostring('~g~[H] ~w~To knock'))
              if IsControlJustPressed(0, 74) then
				      ExecuteCommand("e knock")
						  Wait(4000)
              ClearPedTasksImmediately(PlayerPedId())
						  local trikortreet = exports["nh-context"]:ContextMenu({
							{
								header = "Trick Or Treat?",
							},
							{
								header = "Trick",
								context = ";)",
								args = {"trick"}
							},
							{
								header = "Treat?",
								context = ";)",
								args = {"treat"},
							},
						})
						if trikortreet ~= nil then
							if trikortreet == "trick" then
								TriggerEvent('trick')
						elseif trikortreet == "treat" then
							      TriggerEvent('treat')
						           end
					          end
				         end		
			        end
           end
	    	end
        Wait(wait)
    end
end)



RegisterNetEvent('treat')
AddEventHandler('treat', function()
    ESX.ShowNotification('You got a treat.')
	TriggerServerEvent('thisguygottreat', items)
	didsomething = true
	Wait(10000)
	didsomething = false
end) 

RegisterNetEvent('trick')
AddEventHandler('trick', function()
	  local ragenpcchance = math.random(1, 100)
	  if ragenpcchance <= 20 then
	  RequestModel(GetHashKey("a_m_m_eastsa_02"))
	  while not HasModelLoaded(GetHashKey("a_m_m_eastsa_02")) do
	     Wait(0)
	  end
	  rageped = CreatePed(4, GetHashKey("a_m_m_eastsa_02"), GetEntityCoords(PlayerPedId()), 0.0, true, true)
	  GiveWeaponToPed(rageped, GetHashKey('WEAPON_BAT'), 0, false, true)
	  Wait(4000) -- time after the ped will attack player
	  TaskCombatPed(rageped, PlayerPedId(), 0, 16)
	  SetAiWeaponDamageModifier(1.0)
	  Wait(240000) -- time after the ped will no longer attack player
	  SetEntityAsNoLongerNeeded(rageped)
 else
	  ESX.ShowNotification('The people in the house didnt got mad about your trick, just leave...')
   end
end) 

function text(x, y, z, text)
    local onScreen,_x,_y=World3dToScreen2d(x,y,z+0.30)
    local px,py,pz=table.unpack(GetGameplayCamCoords())
    local dist = GetDistanceBetweenCoords(px,py,pz, x,y,z, 1)
    local scale = (1/dist)*1
    local fov = (1/GetGameplayCamFov())*100
    local scale = 1.0
   
    if onScreen then
        SetTextScale(0.0*scale, 0.25*scale)
        SetTextFont(0)
        SetTextProportional(1)
        SetTextColour(0, 0, 0, 255)
        SetTextDropshadow(0, 0, 0, 0, 255)
        SetTextEdge(2, 0, 0, 0, 150)
        SetTextDropShadow()
        SetTextOutline()
        SetTextEntry("STRING")
        SetTextCentre(1)
        AddTextComponentString(text)
        DrawText(_x,_y)
    local factor = (string.len(text)) / 370
    	DrawRect(_x,_y+0.0125, 0.013+ factor, 0.03, 0, 0, 0, 68)
    end
end